let FasterJs={config:{basePathName:null,mode:"hash",modes:["hash","history"],componentsTransitions:!1,loadingLayer:!1},router:{baseRoute:"/",routesMap:{"/":"index"},routesMethods:{index(){}},events:{},fallbacks:{noRoutesMap:null,noRoutesMethods:null,routeMapNotFound:null,routeMethodNotFound:null},currentRoute(){if("hash"===FasterJs.config.mode)return window.location.hash.replace("#!","");else{let a=window.location.origin,b=window.location.href.replace(`${a+FasterJs.config.basePathName}`,"");return""===b?"/":"/"+b.replace(/\/+$/,"")}},registerMaps(a){return Object.assign(this.routesMap,a)},registerMethods(a){return Object.assign(this.routesMethods,a)},registerEvents(a){return Object.assign(this.events,a)},goTo(a="",b={}){if("history"===FasterJs.config.mode){a=""===a?"/":a;let c=window.location.origin+(FasterJs.config.basePathName+a).replace("//","/");history.pushState({route:a,params:b},"",c)}else a=`#!/${a}`.replace("//","/"),window.location.hash=a},throwError(a){this.fallbacks[a]?this.fallbacks[a]():0<document.querySelectorAll("[data-faster-fallback]").length?FasterJs.view(a):console.log(`router fallback error: ${a}`)},init(){document.querySelector("html").style.scrollBehavior="smooth";let a=null,b=null,c=null,d={view:FasterJs.view,goTo:this.goTo,currentRoute:this.currentRoute(),route:history.state?history.state:{}};if(document.querySelectorAll("[data-faster-app] > [data-faster-component],[data-faster-app] [data-faster-fallback]").forEach(a=>{FasterJs.config.componentsTransitions?(a.style.opacity=0,a.style.visibility="hidden"):a.style.display="none"}),0<Object.keys(this.routesMap).length){if("hash"===FasterJs.config.mode&&["","#","#!"].includes(window.location.hash))return void this.goTo(this.baseRoute);if(0<Object.keys(this.routesMethods).length){let c=Object.keys(this.routesMap);c.forEach((d,e)=>{let f=d.split("|"),g=c[e];if(f.includes(this.currentRoute())){let c=this.routesMap[g];void 0===this.routesMethods[c]?b="routeMethodNotFound":a=this.routesMethods[c]}}),a||(b=b?b:"routeMapNotFound")}else a=null,b="noRoutesMethods"}else a=null,b="noRoutesMap";if(b)this.throwError(b);else{let b=()=>{let a={};return a.config={},a.config.mode=FasterJs.config.mode,a.config.el=document.querySelector("[data-faster-app]"),a.router={},a.router.baseRoute=FasterJs.router.baseRoute,a.router.currentRoute=FasterJs.router.currentRoute(),a};FasterJs.events.beforeRouteEnter&&FasterJs.events.beforeRouteEnter(b()),a(FasterCore=d),0<Object.keys(this.events).length&&(c=this.events[this.currentRoute()],c&&c(d)),FasterJs.events.routeEntered&&FasterJs.events.routeEntered(b())}}},events:{beforeInit:null,init:null,loaded:null,beforeRouteEnter:null,routeEntered:null},view(a){let b=document.querySelectorAll(`[data-faster-app] [data-faster-component]`),c=document.querySelectorAll(`[data-faster-app] [data-faster-fallback]`);[...b,...c].forEach(b=>{b.getAttribute("data-faster-component-id")===a||b.getAttribute("data-faster-fallback-type")===a?(FasterJs.config.componentsTransitions?(b.style.opacity=1,b.style.visibility="visible"):b.style.display="block",b.setAttribute("data-faster-component-activity","active")):(FasterJs.config.componentsTransitions?(b.style.opacity=0,b.style.visibility="hidden"):b.style.display="none",b.setAttribute("data-faster-component-activity",""))})},init(){if(0===document.querySelectorAll("[data-faster-app]").length)return document.body.innerHTML="Error: open console tool to review it.",void console.log("Error: no ([data-faster-app]) element detected in <body>.");if(1<document.querySelectorAll("[data-faster-app]").length)return document.body.innerHTML="Error: open console tool to review it.",void console.log("Error: more than one ([data-faster-app]) element detected in <body>. Only one element should be.");if(null===this.config.basePathName){let a=document.querySelectorAll("[data-faster-app] > *");return[...a].forEach(a=>{a.remove()}),document.querySelector("[data-faster-app]").innerHTML="Error: open console tool to review it.",void console.log("Error: no (Faster.config.basePathName) path value passed.")}let a=document.querySelectorAll("[data-faster-link]"),b=()=>{let a={};return a.config={},a.config.mode=this.config.mode,a.config.el=document.querySelector("[data-faster-app]"),a.router={},a.router.baseRoute=this.router.baseRoute,a.router.currentRoute=this.router.currentRoute(),a};if("history"===this.config.mode){if(""!==window.location.hash)return void(window.location.href=window.location.origin+window.location.pathname);a.forEach(a=>{let b=window.location.origin+(this.config.basePathName+a.getAttribute("href")).replace("//","/");"a"===a.tagName.toLowerCase()&&a.setAttribute("href",b),a.addEventListener("click",b=>{b.preventDefault(),this.router.goTo(a.getAttribute("data-faster-link")),this.router.init()})}),window.onpopstate=()=>{this.router.init()}}else{if(window.location.pathname!==FasterJs.config.basePathName)return void(window.location.href=window.location.origin+FasterJs.config.basePathName);a.forEach(a=>{"a"===a.tagName.toLowerCase()?a.setAttribute("href",("#!/"+a.getAttribute("href")).replace("//","/")):a.addEventListener("click",()=>{this.router.goTo(a.getAttribute("data-faster-link"))})}),window.onhashchange=()=>{this.router.init()}}this.events.beforeInit&&this.events.beforeInit(b()),window.onload=()=>{this.events.init&&this.events.init(b()),this.router.init(),this.events.loaded&&this.events.loaded(b()),this.config.loadingLayer&&setTimeout(()=>{document.querySelector("[data-faster-loading]").style.display="none"},2500)}}};